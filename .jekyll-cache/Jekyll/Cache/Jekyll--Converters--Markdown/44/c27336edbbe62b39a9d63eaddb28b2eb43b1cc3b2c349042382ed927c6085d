I"-<h1 id="ney-bu-nifi-">Ney bu Nifi ?</h1>
<hr />
<h1 id="temel-anlamda-elinizdeki-kaynaklarÄ±-yÃ¶netebileceÄŸiniz-kullanÄ±mÄ±-kolay-bir-araÃ§-diyebiliriz-yazÄ±nÄ±n-devamÄ±nda-Ã¶rneklerle-daha-da-aÃ§Ä±klamaya-Ã§alÄ±ÅŸacaÄŸÄ±m">Temel anlamda, elinizdeki kaynaklarÄ± yÃ¶netebileceÄŸiniz, kullanÄ±mÄ± kolay bir araÃ§ diyebiliriz. YazÄ±nÄ±n devamÄ±nda Ã¶rneklerle daha da aÃ§Ä±klamaya Ã§alÄ±ÅŸacaÄŸÄ±m.</h1>
<hr />
<h1 id="Ã¶ngereksinimler">Ã–ngereksinimler</h1>
<hr />
<h1 id="kullandÄ±ÄŸÄ±nÄ±z-makinede-min-java8-yÃ¼klÃ¼-olmasÄ±-gerekmekte-baÅŸka-da-biÅŸey-lazÄ±m-deÄŸil">KullandÄ±ÄŸÄ±nÄ±z makinede min java8 yÃ¼klÃ¼ olmasÄ± gerekmekte baÅŸka da biÅŸey lazÄ±m deÄŸil</h1>
<hr />
<h1 id="kurulum">Kurulum</h1>
<h1 id="buradan-bintargz-olanÄ±-indirebilirsiniz-ben-son-sÃ¼rÃ¼m-olanÄ±-kullanÄ±yorum"><a href="https://nifi.apache.org/download.html">Buradan</a> bin.tar.gz olanÄ± indirebilirsiniz. Ben son sÃ¼rÃ¼m olanÄ± kullanÄ±yorum.</h1>
<hr />
<h1 id="tar-ile-dosyalarÄ±-Ã§Ä±kardÄ±ktan-sonra-Ã§Ä±karÄ±lan-dosyanÄ±n-iÃ§erisine-gidip-bin-klasÃ¶rÃ¼-altÄ±nda-nifi-yi-Ã§alÄ±ÅŸtÄ±ralÄ±m">tar ile dosyalarÄ± Ã§Ä±kardÄ±ktan sonra Ã§Ä±karÄ±lan dosyanÄ±n iÃ§erisine gidip bin klasÃ¶rÃ¼ altÄ±nda nifi yi Ã§alÄ±ÅŸtÄ±ralÄ±m.</h1>
<hr />
<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Desktop/NIFI/nifi-1.11.1/bin 
:: ./nifi.sh start 
nifi.sh: JAVA_HOME not <span class="nb">set</span><span class="p">;</span> results may vary

Java home: 
NiFi home: /home/sesh/Desktop/NIFI/nifi-1.11.1

Bootstrap Config File: /home/sesh/Desktop/NIFI/nifi-1.11.1/conf/bootstrap.conf

WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.nifi.bootstrap.util.OSUtils <span class="o">(</span>file:/home/sesh/Desktop/NIFI/nifi-1.11.1/lib/bootstrap/nifi-bootstrap-1.11.1.jar<span class="o">)</span> to method java.lang.ProcessImpl.pid<span class="o">()</span>
WARNING: Please consider reporting this to the maintainers of org.apache.nifi.bootstrap.util.OSUtils
WARNING: Use <span class="nt">--illegal-access</span><span class="o">=</span>warn to <span class="nb">enable </span>warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied <span class="k">in </span>a future release

~/Desktop/NIFI/nifi-1.11.1/bin 
:: <span class="nb">sudo </span>netstat <span class="nt">-tulpan</span> | <span class="nb">grep </span>8080
<span class="o">[</span><span class="nb">sudo</span><span class="o">]</span> password <span class="k">for </span>sesh: 
tcp        0      0 0.0.0.0:8080            0.0.0.0:<span class="k">*</span>               LISTEN      374615/java         
</code></pre></div></div>
<hr />
<h1 id="localhost8080nifi-adresi-nifi-servisinin-arayÃ¼zÃ¼-olarak-gelmektedir">localhost:8080/nifi adresi nifi servisinin arayÃ¼zÃ¼ olarak gelmektedir.</h1>
<h1 id="ÅŸimdi-bu-arayÃ¼zde-yapÄ±labilecek-Ã§ok-ÅŸey-var-ancak-kimseyi-darlamamak-veya-rÃ¼yalarÄ±na-girmemek-iÃ§in-1-2-Ã¶rnek-yapÄ±p-yazÄ±yÄ±-bitireceÄŸim">Åimdi bu arayÃ¼zde yapÄ±labilecek Ã§ok ÅŸey var ancak kimseyi darlamamak veya rÃ¼yalarÄ±na girmemek iÃ§in 1-2 Ã¶rnek yapÄ±p yazÄ±yÄ± bitireceÄŸim.</h1>
<h1 id="sol-Ã¼stte-processor-iconuna-basÄ±p-iÃ§erisinde-bir-Ã§ok-element-gÃ¶rebiliriz-bu-Ã¶rnekte-generateflowfile-ve-putfile-elementlerini-kullanacaÄŸÄ±z">Sol Ã¼stte Processor iconuna basÄ±p iÃ§erisinde bir Ã§ok element gÃ¶rebiliriz. Bu Ã¶rnekte GenerateFlowFile ve PutFile elementlerini kullanacaÄŸÄ±z.</h1>
<hr />
<h1 id="generateflowfile-adÄ±ndan-da-anlaÅŸÄ±lacaÄŸÄ±-gibi-rastgele-data-Ã¼retir-ama-istersek-rastgele-deÄŸil-ÅŸu-datayÄ±-Ã¼ret-te-diyebiliriz">GenerateFlowFile adÄ±ndan da anlaÅŸÄ±lacaÄŸÄ± gibi rastgele data Ã¼retir. Ama istersek rastgele deÄŸil â€˜ÅUâ€™ datayÄ± Ã¼ret te diyebiliriz.</h1>
<h1 id="neyse-basalÄ±m-buna-ekrana-sÃ¼rÃ¼kleyip-konfigÃ¼re-edelim">Neyse basalÄ±m buna ekrana sÃ¼rÃ¼kleyip konfigÃ¼re edelim.</h1>
<hr />

<p><img src="https://teamredblue.github.io/processor.png" alt="Processor" /></p>

<hr />

<p><img src="https://teamredblue.github.io/flow.png" alt="Processor" /></p>

<hr />
<h1 id="Ã¼zerine-Ã§ift-tÄ±klayÄ±p-scheduling-sekmesine-tÄ±klayalÄ±m">Ãœzerine Ã§ift tÄ±klayÄ±p Scheduling sekmesine tÄ±klayalÄ±m.</h1>

<p><img src="https://teamredblue.github.io/sch2.png" alt="Processor" /></p>

<hr />
<h1 id="burada-run-schecule-deÄŸerini-0-deÄŸil-de-1-olarak-ayarlayalÄ±m">Burada run Schecule deÄŸerini 0 deÄŸil de 1 olarak ayarlayalÄ±m.</h1>
<hr />

<h1 id="properties-sekmesini-aÃ§alÄ±m">Properties sekmesini aÃ§alÄ±m.</h1>
<p><img src="https://teamredblue.github.io/text.png" alt="Processor" /></p>

<h1 id="custom-text-alanÄ±nÄ±-kafamÄ±za-gÃ¶re-doldurabiliriz">Custom Text alanÄ±nÄ± kafamÄ±za gÃ¶re doldurabiliriz.</h1>
<hr />

<h1 id="tekrar-processor-simgesine-tÄ±klayarak-gelen-menÃ¼den-putfile-elementini-seÃ§elim-ve-dashboarda-yerleÅŸtirelim">Tekrar Processor simgesine tÄ±klayarak gelen menÃ¼den PutFile elementini seÃ§elim ve dashboarda yerleÅŸtirelim.</h1>

<p><img src="https://teamredblue.github.io/put.png" alt="Processor" /></p>

<hr />

<p><img src="https://teamredblue.github.io/nifi_falan.png" alt="Processor" /></p>

<h1 id="directory-i-deÄŸiÅŸtirelim">Directory i deÄŸiÅŸtirelim</h1>

<h1 id="putfile-elementinin-settings-sekmesine-giderek-success-ve-failure-alanlarÄ±nÄ±-iÅŸaretleyelim-bu-alanlar-herhangi-bir-problem-oluÅŸunca-veya-flow-baÅŸarÄ±-ile-Ã§alÄ±ÅŸÄ±nca-ne-olacaÄŸÄ±yla-alakalÄ±-bize-yÃ¶nlendirme-yapmamÄ±zÄ±-istemektedir-ancak-bizim-success-veya-failure-senaryolarÄ±nda-yapacak-baÅŸka-bir-ÅŸeyimiz-olmadÄ±ÄŸÄ±ndan-dÃ¼mdÃ¼z-iÅŸaretleyip-geÃ§elim">PutFile elementinin Settings sekmesine giderek success ve failure alanlarÄ±nÄ± iÅŸaretleyelim. Bu alanlar herhangi bir problem oluÅŸunca veya flow baÅŸarÄ± ile Ã§alÄ±ÅŸÄ±nca ne olacaÄŸÄ±yla alakalÄ± bize yÃ¶nlendirme yapmamÄ±zÄ± istemektedir. Ancak bizim success veya failure senaryolarÄ±nda yapacak baÅŸka bir ÅŸeyimiz olmadÄ±ÄŸÄ±ndan dÃ¼mdÃ¼z iÅŸaretleyip geÃ§elim.</h1>

<p><img src="https://teamredblue.github.io/failure.png" alt="Processor" /></p>

<hr />

<h1 id="apply-diyip-generateflowfile-ile-putfile-Ä±-baÄŸlayalÄ±m">Apply diyip GenerateFlowFile ile PutFile Ä± baÄŸlayalÄ±m.</h1>
<h1 id="baÄŸlarken-gelen-ekrandan-success-i-iÅŸaretliyip-ok-diyelim">BaÄŸlarken gelen ekrandan success i iÅŸaretliyip ok diyelim</h1>

<p><img src="https://teamredblue.github.io/success.png" alt="Processor" /></p>

<hr />

<h1 id="ÅŸu-an-ekranÄ±n-aÅŸaÄŸÄ±daki-gibi-olmasÄ±-gerekir">Åu an ekranÄ±n aÅŸaÄŸÄ±daki gibi olmasÄ± gerekir.</h1>
<p><img src="https://teamredblue.github.io/gogo.png" alt="Processor" /></p>

<hr />

<h1 id="shifte-basÄ±lÄ±-tutup-tÃ¼m-elementleri-seÃ§ip-sol-menÃ¼den-start-tuÅŸuna-basalÄ±m-ve-flowu-baÅŸlatalÄ±m">Shifte basÄ±lÄ± tutup tÃ¼m elementleri seÃ§ip Sol menÃ¼den Start tuÅŸuna basalÄ±m ve flowu baÅŸlatalÄ±m.</h1>
<p><img src="https://teamredblue.github.io/start.png" alt="Processor" /></p>

<hr />
<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
/tmp/nifi_falan 
:: <span class="nb">cat </span>8095ff70-e303-42a3-916a-98d59bb23d67 
â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       â”‚ File: 8095ff70-e303-42a3-916a-98d59bb23d67
â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1   â”‚ NIFI MIFI BÄ°ÅELER
â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</code></pre></div></div>

<hr />

<h1 id="ÅŸimdi-bu-Ã¶rnekte-biraz-midesizlik-yapÄ±p-generateflowfile-ile-sÃ¼rekli-web-servis-logu-Ã¼retelim--logun-iÃ§erisindeki-ip-adresini-ayrÄ±ÅŸtÄ±rÄ±p-ayrÄ±ÅŸtÄ±rÄ±lan-ip-adresini-json-a-Ã§evirip-dosyaya-yazdÄ±ralÄ±m">Åimdi bu Ã¶rnekte biraz midesizlik yapÄ±p GenerateFlowFile ile sÃ¼rekli web servis logu Ã¼retelim . Logun iÃ§erisindeki ip adresini ayrÄ±ÅŸtÄ±rÄ±p, ayrÄ±ÅŸtÄ±rÄ±lan ip adresini json a Ã§evirip dosyaya yazdÄ±ralÄ±m.</h1>

<hr />

<h1 id="kullanÄ±lacak-processorler">KullanÄ±lacak Processorler;</h1>
<p>1 - GenerateFlowFile - SÃ¼rekli bize log Ã¼retmesini saÄŸlayalÄ±m.</p>

<p>2 - ExtractText - BurasÄ± en leÅŸ kÄ±sÄ±m regex falan yazmak gerekiyo, yazÄ±lan regex i text iÃ§erisinde aratÄ±p eÅŸleÅŸmesini saÄŸlÄ±yor.</p>

<p>3 - RouteOnAttribute - Regex ile taratÄ±lan dosyada bulunan kÄ±sÄ±m buraya aktarÄ±lÄ±yor ve deÄŸiÅŸkene burada vereceÄŸimiz deÄŸiÅŸkene sahip oluyor. KÄ±sacasÄ± regexte buldugumuzu bi deÄŸiÅŸkene atÄ±yoruz diyebiliriz.</p>

<p>4 - AttributesToJson - AldÄ±ÄŸÄ±mÄ±z veriyi jsona Ã§eviren dalgamotor.</p>

<p>5 - PutFile - Dosyaya basmayak mÄ± dayÄ± ?</p>

<hr />

<h1 id="generateflowfile-iÃ§eriÄŸindeki-custom-text-i-aÅŸaÄŸÄ±daki-gibi-deÄŸÅŸitirelim-Ã¶rnek-log">GenerateFlowFile iÃ§eriÄŸindeki custom text i aÅŸaÄŸÄ±daki gibi deÄŸÅŸitirelim. Ã–rnek Log;</h1>
<p>127.0.0.1 - peter [9/Feb/2017:10:34:12 -0700] â€œGET /sample-image.png HTTP/2â€ 200 1479</p>

<p><img src="https://teamredblue.github.io/customtext.png" alt="Processor" /></p>

<hr />

<h1 id="extracttext---properties-altÄ±ndaki-menÃ¼den--ya-tÄ±klayarak-ip_bul-isminde-bir-alan-aÃ§alÄ±m-ve-karÅŸÄ±sÄ±nda-ip-yi-bulacak-regexi-yazalÄ±m-regex-dddd-anlaÅŸÄ±lacaÄŸÄ±-Ã¼zere-dÃ¼menden-regex-yazÄ±yoruz-arkadaÅŸlar">ExtractText -&gt; Properties altÄ±ndaki MenÃ¼den + ya tÄ±klayarak ip_bul isminde bir alan aÃ§alÄ±m ve karÅŸÄ±sÄ±nda ip yi bulacak regexi yazalÄ±m. Regex; (^\d+.\d+.\d+.\d+) anlaÅŸÄ±lacaÄŸÄ± Ã¼zere dÃ¼menden regex yazÄ±yoruz arkadaÅŸlar.</h1>
<p><img src="https://teamredblue.github.io/ipbul.png" alt="Processor" /></p>

<hr />

<h1 id="routeonattribute-diyip--ya-basalÄ±m-ve-aÅŸaÄŸÄ±daki-alanÄ±-ekleyelim">RouteOnAttribute diyip + ya basalÄ±m ve aÅŸaÄŸÄ±daki alanÄ± ekleyelim.</h1>

<p><img src="https://teamredblue.github.io/route.png" alt="Processor" /></p>

<hr />

<h1 id="attributestojson-diyip--ya-basalÄ±m-aÅŸaÄŸÄ±daki-alanÄ±-ekleyelim">AttributesToJSON diyip + ya basalÄ±m. AÅŸaÄŸÄ±daki alanÄ± ekleyelim.</h1>

<p><img src="https://teamredblue.github.io/json.png" alt="Processor" /></p>

<h1 id="destination-alanÄ±nÄ±-da-flowfile-content-olarak-deÄŸiÅŸtirelim">Destination alanÄ±nÄ± da flowfile-content olarak deÄŸiÅŸtirelim.</h1>

<p><img src="https://teamredblue.github.io/json2.png" alt="Processor" /></p>

<hr />

<h1 id="putfile-ile-bir-directory-verip-baÅŸlatalÄ±m">PutFile ile bir directory verip baÅŸlatalÄ±m.</h1>
<p><img src="https://teamredblue.github.io/dumen.png" alt="Processor" /></p>

<hr />

<p><img src="https://teamredblue.github.io/asdasd.png" alt="Processor" /></p>

<hr />

<h1 id="hepsini-sÄ±radan-birbirine-baÄŸlayÄ±p-success-failure-ip_bul-gibi-elementlerin-hepsini-iÅŸaretleyelim-son-olarak-putfile-elementine-tÄ±klayarak-success-ve-failure-u-da-iÅŸaretledikten-sonra-tÃ¼m-flowu-baÅŸlatalÄ±m">Hepsini sÄ±radan birbirine baÄŸlayÄ±p success failure ip_bul gibi elementlerin hepsini iÅŸaretleyelim. Son olarak PutFile elementine tÄ±klayarak success ve failure u da iÅŸaretledikten sonra tÃ¼m flowu baÅŸlatalÄ±m.</h1>

<hr />

<p><img src="https://teamredblue.github.io/result.png" alt="Processor" /></p>

<p>â€“</p>

<h1 id="author-section-text">Author <a href=" https://twitter.com/SectionText">Section Text</a></h1>
:ET